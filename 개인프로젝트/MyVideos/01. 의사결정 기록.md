# 의사결정 기록

## Util 클래스들에 @Component 사용
차후 테스트코드 작성시 mock 활용을 위해 사용했음(현재 테스트 커버리지가 매우 낮다는 불상사는 차치함)

## 서비스단에는 private 클래스가 없어야한다!
서비스가 서비스에 의존하게 되면 로직 흐름 파악하기가 너무 어려움 
서비스단에서 사용하는 프라이빗 메서드가 많아지면 따로 분리하는 방안이 이상적임
따라서 유틸 클래스를 만들어서 서비스단에 필요한 기타 등등 기능들은 모두 유틸 안에 정의하고 사용하도록 함 

이렇게 하면 좋은점이 해당 기능 테스트를 진행할 수 있음 (프라이빗 메서드는 테스트를 작성하지 않는다) 물론 mock 사용도 가능함

유틸 클래스가 유틸 클래스 자신에 의존하는 경우에 대해서는 추후 개선 예정

## 유저 사진 업로드와 비디오 업로드 시 사용하는 경로를 해결하는 PathResolver 제작

- 파일 이름이 중복되면 안 되므로 UUID 추가한 파일 이름 생성 -> 테스트 코드를 위해 UUID 생성을 다른 클래스에서 진행하도록 분리 -> SaltResolver 제작
- 파일 이름으로 디렉토리 탈출 공격 가능성 -> Sanitizer 제작