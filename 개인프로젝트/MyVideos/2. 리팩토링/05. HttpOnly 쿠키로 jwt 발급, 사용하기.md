개선 전에는 유저가 로그인을 하면 백엔드는 헤더에 jwt 정보를 담아 응답하였다. 프론트에서는 헤더의 값을 읽어와 쿠키를 생성, 해당 정보를 보관했다.

이렇게 하면 문제가 발생하는데

- 프론트와 백엔드의 jwt 유효 시간에 차이가 발생
- 클라이언트가 토큰에 접근 가능 -> 보안 취약

크게 두 가지 단점이 있다.

위 단점을 개선하고자 백엔드에서 httpOnly 설정된 쿠키에 jwt를 담아 응답하기로 결정했다.

이를 위해서는 기존 프론트 로직에 많은 변경이 필요하다... ☹️ 아래는 어떻게 변했는지를 설명한다.