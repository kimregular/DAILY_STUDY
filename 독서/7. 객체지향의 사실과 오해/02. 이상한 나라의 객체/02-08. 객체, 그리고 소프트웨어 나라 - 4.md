## 식별자
객체란 인간의 인지 능력을 이용해 식별 가능한 경계를 가진 모든 사물을 의미한다. 객체가 식별 가능하다는 것은 객체를 서로 구별할 수 있는 특정한 프로퍼티가 객체 안에 존재한다는 것을 의미한다. 이 프로퍼티를 식별자라고 한다. 모든 객체는 식별자를 가지며 식별자를 이용해 객체를 구별할 수 있다.

모든 객체가 식별자를 가진다는 것은 반대로 객체가 아닌 단순한 값은 식별자를 가지지 않는다는 것을 의미한다. 상태에 관해 살펴보면서 객체가 가지는 프로퍼티의 타입은 객체나 단순한 값 중 하나가 될 수 있다고 설명했다. 값과 객체의 가장 큰 차이점은 값은 식별자를 가지지 않지만 객체는 식별자를 가진다는 점이다. 그리고 시스템을 설계할 때는 이런 단순한 값과 객체의 차이점을 명확하게 구분하고 명시적으로 표현하는 것이 매우 중요하다.

값은 숫자, 문자열, 날짜, 시간, 금액 등과 같이 변하지 않는 양을 모델링한다. 흔히 값의 상태는 변하지 않기 때문에 불변상태를 가진다고 말한다. 값의 경우 두 인스턴스의 상태가 같다면 두 인스턴스를 같은 것으로 판단한다. 두 개의 1이라는 숫자가 종이 위에 적혀 있을 때 모든 사람들은 숫자가 같은 것으로 간주한다. 두 숫자는 값이 같기 때문에 동일하다고 판단하며 굳이 두 개의 숫자를 구별하려고 하지 않는다.

값이 같은지 여부는 상태가 같은지를 이용해 판단한다. 값의 상태가 같으면 두 인스턴스는 동일한 것으로 판단하고 상태가 다르면 두 인스턴스는 다른 것으로 판단한다. 이처럼 상태를 이용해 두 값이 같은지 판단할 수 있는 성질을 동등성이라고 한다. 상태를 이용해 동등성을 판단할 수 있는 이유는 값의 상태가 변하지 않기 때문이다. 값의 상태는 결코 변하지 않기 때문에 어떤 시점에 동일한 타입의 두 값이 같다면 언제까지라도 두 값은 동등한 상태를 유지할 것이다. 값은 오직 상태만을 이용해 동등성을 판단하기 때문에 인스턴스를 구별하기 위한 별도의 식별자를 필요로 하지 않는다.

객체는 시간에 따라 변경되는 상태를 포함하며, 행동을 통해 상태를 변경한다. 따라서 객체는 가변 상태를 가진다고 말한다. 타입이 같은 두 객체의 상태가 완전히 똑같더라도 두 객체는 독립적인 별개의 객체로 다뤄야 한다. 이름이 앨리스이고 키가 동일한 두 사람이 함께 있다고 하더라도 어떤 누구도 두 사람을 같은 사람이라고 생각하지 않는다. 비록 이름과 키 등의 상태는 완전히 동일하지만 두 사람은 완전히 별개의 인격체다.

어린 시절의 여러분을 떠올려보자. 어린 여러분은 현재의 여러분보다 키도 작고 나이도 적지만 두 사람은 동일한 인물이다. 따라서 여러분은 상태와 무관하게 동일한 사람으로 판단될 수 있는 일종의 식별자를 가지고 있는 객체라고 할 수 있다. 

객체 역시 사람과 유사하게 상태와 무관하게 두 객체를 동일하거나 다르다고 판단할 수 있는 프로퍼티를 가진다. 두 객체의 상태가 다르더라도 식별자가 같다면 두 객체를 같은 객체로 판단할 수 있다. 이처럼 식별자를 기반으로 객체가 같은지를 판단할 수 있는 성질을 동일성이라고 한다.

상태를 기반으로 객체의 동일성을 판단할 수 없는 이유는 시간이 흐름에 따라 객체의 상태가 변하기 때문이다. 어느 한 시점에 두 객체의 상태가 동일하더라도 한 객체의 상태가 변하는 순간 두 객체는 서로 다른 상태가 되어 버린다. 따라서 상태가 가변적인 두 객체의 동일성을 판단하기 위해서는 상태 변경에 독립적인 별도의 식별자를 이용할 수밖에 없다.

> 식별자란 어떤 객체를 다른 객체와 구분하는 데 사용하는 객체의 프로퍼티다. 값은 식별자를 가지지 않기 때문에 상태를 이용한 동등성 검사를 통해 두 인스턴스를 비교해야 한다. 객체는 상태가 변경될 수 있기 때문에 식별자를 이용한 동일성 검사를 통해 두 인스턴스를 비교할 수 있다.

대부분의 사람들은 값과 객체의 차이점을 혼란스러워하는데, 대부분의 객체지향 프로그래밍 언어에서 두 개념 모두 클래스를 이용해 구현되기 때문이다. 객체지향 프로그래밍 언어를 이용하면 숫자는  Integer라는 클래스로, 사람은 Person이라는 클래스로 정의할 수밖에 없다. 따라서 프로그래밍 언어의 관점에서 숫자는 Integer 클래스로부터 생성된 객체이며 사람은 Person 클래스로부터 생성된 객체다. 객체지향 언어의 관점에서 값과 객체 모두 클래스로부터 생성된 객체이기 때문에 문맥에 따라 그 의미가 혼란스러워질 수 있다.

이런 오해의 소지를 줄이기 위해 객체와 값을 지칭하는 별도의 용어를 사용하기도 한다. 참조 객체, 또는 엔티티는 식별자를 지닌 전통적인 의미의 객체를 가리키는 용어다. 값 객체는 식별자를 가지지 않는 값을 가리키는 용어다. 이 책에서 특별한 언급이 없는 한 객체라는 용어는 식별자를 가지는 참조 객체나 엔티티를 가리킨다.

객체 식별자의 개념은 상속, 캡슐화, 다형성과 같은 좀 더 두드러진 개념에 비해 간과하기 쉽다. 그러나 식별자는 객체지향 패러다임의 표현력을 높이는 데 중요한 역할을 한다. 객체지향의 세계는 상태가 변하지 않는 값과 상태가 변하는 객체들이 서로 균형을 맞추며 조화를 이루는 사회여야 한다.

지금까지 객체의 중요한 특성인 상태, 행동, 식별자에 관해 살펴봤다. 다음은 지금까지 살펴본 객체의 특성을 간략하게 요약한 것이다. 눈썰미가 좋은 독자라면 아래 목록이 앞에서 앨리스의 특성을 요약한 목록에서 '앨리스'라는 단어를 '객체'라는 단어로 살짝 바꿔 놓았을 뿐이라는 것을 눈치챘을 것이다.

- 객체는 상태를 가지며 상태는 변경 가능하다.
- 객체의 상태를 변경시키는 것은 객체의 행동이다.
	- 행동의 결과는 상태에 의존적이며 상태를 이용해 서술할 수 있다.
	- 행동의 순서가 실행 결과에 영향을 미친다.
- 객체는 어떤 상태에 있더라도 유일하게 식별 가능하다.

이제 앞에서 나열한 객체의 모든 특성을 좀 더 쉽게 이해할 수 있는 한 가지 은유를 살펴보자. 이 은유는 버트란드 마이어가 제시한 것으로서, 객체를 통합적인 시각에서 바라볼 수 있게 도와줄 것이다.