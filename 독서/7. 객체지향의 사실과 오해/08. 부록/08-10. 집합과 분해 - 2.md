## 합성 관계
상품 주문을 생각해보자. 여러분은 여러 상품을 한 번에 주문할 수 있다. 이때 각 상품을 몇 개 주문했는지를 가리켜 주문 항목이라고 한다. 각 주문 항목은 주문과 독립적으로 존재할 수 없다. 주문 항목은 반드시 어떤 한 주문의 일부로 생성되기 때문에 주문의 일부여야 한다. 객체와 객체 사이의 전체-부분 관계를 구현하기 위해서는 합성 관계를 사용한다.

합성 관계는 부분을 전체 안에 캡슐화함으로써 인지 과부하를 방지한다. 주문 항목은 주문의 일부이므로 이 모델을 다루는 사람은 주문 항목과 관련된 세부 사항은 무시하고 주문과 상품만이 존재하는 것처럼 모델을 다룰 수 있다. 필요하다면 주문 내부로 들어가 주문 항목과 관련된 세부 사항을 확인할 수 있다. 주문 내부의 세부 사항을 다루는 동안에는 주문 외부의 상품에 대해서는 신경 쓰지 않아도 무방하다. 따라서 객체들의 그룹과 관련된 복잡성이 완화된다. 합성 관계를 이용해 계층적인 객체들의 그룹을 만드는 것은 바로 이런 이유에서다.

상품과 주문 항목 사이에도 관계가 존재하지만 상품은 주문 항목의 일부가 아니다.따라서 주문과 주문 항목 사이의 관계는 전체와 부분 간의 관계를 나타내는 합성 관계인데 비해 주문 항목과 상품 간에는 단순한 물리적 통로가 존재한다는 사실만 나타낸다. 이를 연관 관계라고 한다.

합성 관계와 연관 관계 사이의 차이가 항상 명확한 것은 아니지만 일반적으로 합성 관계로 연결된 객체는 포함하는 객체가 제거될 때 내부에 포함된 객체도 함께 제거된다. 위 예에서 주문이 제거되면 주문 항목도 함께 제거돼야 한다. 주문이 존재하지 않는 주문 항목은 의미가 없기 때문이다.

이에 반해 연관 관계로 연결된 두 객체는 생명주기와 관련된 어떤 제약도 부과하지 않는다. 연관 관계로 연결된 두 객체는 독립적으로 제거될 수 있다. 주문의 제거로 인해 주문 항목이 제거되더라도 상품은 계속 판매될 것이다. 합성 관계는 생명주기 측면에서 연관 관계보다 더 강하게 객체들을 결합한다.