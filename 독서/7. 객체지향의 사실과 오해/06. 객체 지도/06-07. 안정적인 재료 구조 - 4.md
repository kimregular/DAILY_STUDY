## 불안정한 기능을 담는 안정적인 도메인 모델
도메인 모델을 기반으로 코드를 작성하는 두 번째 이유는 도메인 모델이 제공하는 구조가 상대적으로 안정적이기 때문이다.

도메인 모델의 핵심은 사용자가 도메인을 바라보는 관점을 반영해 소프트웨어를 설계하고 구현하는 것이다. 도메인에 대한 사용자의 관점을 반영해야 하는 이유는 사용자들이 누구보다도 도메인의 '본질적인' 측면을 가장 잘 이해하고 있기 때문이다. 사용자들은 도메인을 구성하는 중요한 개념과 개념 간의 관계를 가장 잘 알고 있는 사람들이다.

본질적이라는 것은 변경이 적고 비교적 그 특성이 오랜 시간 유지된다는 것을 의미한다. 소프트웨어 개발의 가장 큰 적은 변경이며 변경은 항상 발생한다는 사실을 기억하라. 사용자 모델에 포함된 개념과 규칙은 비교적 변경될 확률이 적기 때문에 사용자 모델을 기반으로 설계와 코드를 만들면 변경에 쉽게 대처할 수 있을 가능성이 커진다.

이것은 도메인 모델이 기능을 담을 수 있는 안정적인 구조를 제공할 수 있음을 의미한다. 도메인 모델은 소프트웨어 구조의 기반을 이룬다. 그리고 안정적인 구조를 기반으로 자주 변경되는 기능을 배치함으로써 기능의 변경에 대하 안정적인 소프트웨어를 구현할 수 있다. 

결론적으로 안정적인 구조를 제공하는 도메인 모델을 기반으로 소프트웨어의 구조를 설계하면 변경에 유연하게 대응할 수 있는 탄력적인 소프트웨어를 만들 수 있다. 도메인 모델은 여러분이 기능을 구현할 때 참조할 수 있는 궁극적인 지도다.

```text
예제
정기예금 도메인 모델
정기예금은 예금주가 일정 기간 환급을 요구하지 않을 것을 약정하고 일정 금액을 은행에 예치하는 예금 방식이다. 은행은 약정 기간이 지나면 예금주에게 일정 비율의 이자를 지급한다. 매달 일정 금액을 불입해서 목돈을 마련하는 것이 목적인 적금과 달리 정기예금은 계좌를 개설할 때 목돈을 예금한 후 일정 기간이 지난 후에 목돈에 대한 이자를 받는 것이 목적이므로 정기에금의 이자율이 적금보다 높은 것이 일반적이다.

은행 도메인의 관점에서 정기에금은 약정 기간이 지난 후 이자를 지급하고 해지하는 금융상품의 일종이다. 에금주가 정기예금을 신텅하면 은행은 에금주가 일정 금액을 에치할 수 있게 신규 계좌를 개설한다. 모든 정기예금은 만기 시 특정한 이자율에 따라 이자를 지급한다.

그림 6.5는 정기 예금에 대한 도메인 모델을 도식화한 것이다. 정기예금ㅁ은 예금 기간과 이미 해지된 예금인지 여부를 나타내는 속성을 포함한다. 계좌는 예금주가 예치한 예금액을 보관하고 이자율은 만기시 예금주에게 지급할 이자를 계산하기 위해 필요한 금리 정보를 포함한다. 계좌는 특정한 정기예금에 속하므로 정기예금과 관계를 맺는다. 이자율은 특정한 계좌에 대한 금리 정보를 나타내므로 계좌와 관계를 맺어야 한다. 만기 시 계좌의 예금액과 함께 이자를 지급해야 하므로 이자는 예금액을 알고 있는 계좌와 관계를 맺는 것이 적절하다. 이자는 만기 시점에 지급되며 예금 기간 동안에는 존재하지 않는다. 따라서 계좌와 이자 사이에는 0 또는 1의 다중성(0..1)이 존재한다. 정기계금은 만기가 되지 않더라도 중도에 해지가 가능하므로 정기예금의 기간이 반드시 이자의 지급일자와 동일하지는 않다. 따라서 이자는 지급된 일자에 관한 정보를 별도로 보관해야 한다.

그림 6.5는 실제 운영되는 정기예금 상품을 매우 단순화한 것이지만 일반적으로 사람들이 정기예금에 관해 생각하는 개념과 규칙을 모두 포함하고 있다. 정기계금을 가입하는 예금주나 은행업무를 담당하는 도메인 전문가들은 모델을 구성하는 각 요소의 의미와 관계를 쉽게 파악할 수 있을 것이다. 따라서 이 모델은 멘탈 모델을 두성하는 세 가지 모델 중에서 사용자 모델의 관점을 반영한다.

가장 중요한 것은 이 모델이 안정적이라는 것이다. 이 모델에서 사용하고 있는 개념의 정의와 속성은 은행 업무에서 다뤄지는 정기예금의 정의가 변경되지 않는 한 쉽게 바뀌지 않을 것이다. 개념과 개념 간의 관계는 정기예금과 관련된 중요한 비즈니스 규칙과 정책을 반영하고 있다. 도메인 모델의 장점은 비즈니스의 ㄷ개념과 정책을 반영하는 안정적인 구조를 제공한다는 것이다.
```

```mermaid

```