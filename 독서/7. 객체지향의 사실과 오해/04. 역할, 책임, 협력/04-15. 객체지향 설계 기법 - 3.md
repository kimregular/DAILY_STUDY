## 테스트-주도 개발
테스트-주도 개발은 애자일 방법론의 한 종류인 XP의 기본 프랙티스로 소개되면서 주목받기 시작한 설계 기법이다. 테스트-주도 개발의 기본 흐름은 실패하는 테스트를 작성하고, 테스트를 통과하는 가장 간단한 코드를 작성한 후(이 시간 동안에는 중복이 있어도 무방하다), 리팩터링을 통해 중복을 제거하는 것이다. 테스트-주도 개발을 통해 '작동하는 깔끔한 코드'를 얻을 수 있다.

테스트-주도 개발이 응집도가 높고 결합도가 낮은 클래스로 구성된 시스템을 개발할 수 있게 하는 최상의 프랙티스인 것은 맞지만 객체지향에 대한 경험이 적은 초보자들은 개발을 주도하기 위해 어떤 테스트를 어떤 식으로 작성해야 하는지를 결정하는 데 큰 어려움을 느낀다. 테스트-주도 개발은 객체가 이미 존재한다고 가정하고 객체에게 어떤 메시지를 전송할 것인지에 관해 먼저 생각하라고 충고한다. 그러나 이 같은 종류의 충고는 역할, 책임, 협력의 관점에서 객체를 바라보지 않을 경우 무의미하다.

가끔 테스트-주도 개발이 어떤 식으로 작동하는지 전혀 이해하지 못하겠다고 어려움을 토로하는 사람들을 만나게 된다. 이야기를 나누다 보면 대부분의 사람들이 책임과 협력의 관점에서 객체를 바라보는 훈련이 부족하다는 것을 깨닫게 된다. 테스트-주도 개발은 테스트를 작성하는 것이 아니라 책임을 수행할 객체 또는 클라이언트가 기대하는 객체의 역할이 메시지를 수신할 때 어떤 결과를 반환하고 그 과정에서 어떤 객체와 협력할 것인지에 대한 기대를 코드의 형태로 작성하는 것이다.

테스트-주도 개발은 책임-주도 설계의 기본 개념을 따른다. 사전 설계 없이 테스트-주도 개발을 진행하는 개발자들은 책임-주도 설계의 단계적인 절차와 기법들을 짧은 시간에 감각적으로 수행하는 사람들이다. 때로는 요구사항으로부터 특정 패턴이 필요하다는 것을 눈치채고 패턴을 목표로 빠르게 테스트를 작성한다. 협력 안에서 객체의 역할과 책임이 무엇이고 이것이 클래스와 같은 프로그래밍 언어 장치로 구현되는 방식에 대한 감각을 갖춰야만 효과적인 테스트를 작성할 수 있다. 테스트-주도 개발은 책임-주도 설계를 통해 도달해야 하는 목적지를 테스트라는 안전장치를 통해 좀 더 빠르고 견고한 방법으로 도달할 수 있도록 해주는 최상의 설계 프랙티스다.

요점은 테스트-주도 개발은 다양한 설계 경험과 패턴에 대한 지식이 없는 사람들의 경우에는 온전한 혜택을 누리기가 어렵다는 것이다. 초보 개발자들이 테스트-주도 개발기법을 따르지 않는 경우보다 따르는 경우에 더 훌륭한 코드를 작성하는 것은 사실이지만 그렇다고 해서 결코 경험 많은 개발자들이 테스트-주도 개발 없이 작성한 코드보다 더 훌륭한 코드를 작성할 수는 없다.

테스트-주도 개발은 객체지향에 대한 깊이 있는 지식을 요구한다. 테스트를 작성하기 위해 객체의 메서드를 호출하고 반호나값을 검증하는 것은 순간적으로 객체가 수행해야 하는 책임에 관해 생각한 것이다. 테스트에 필요한 간접 입력 값을 제공하기 위해 스텁을 추가하거나 간접 출력 값을 검증하기 위해 목 객체를 사용하는 것은 객체와 협력해야 하는 협력자에 관해 고민한 결과를 코드로 표현한 것이다.

테스트-주도 개발은 책임-주도 설계의 기본 개념과 다양한 원칙과 프랙티스, 패턴을 종합적으로 이해하고 좋은 설계에 대한 감각과 경험을 길러야만 적용할 수 있는 설계 기법이다. 역할, 책임, 협력에 집중하고 객체지향의 원칙을 적용하려는 깊이 있는 고민과 노력을 통해서만 테스트-주도 개발의 혜택을 누릴 수 있다.

지금까지 역할, 책임, 협력의 개념에 관해 살펴봤다. 이제 이 배우들을 무대 위에 올려놓고 전체적인 관점에서 객체지향 패러다임이 다른 전통적인 패러다임에 비해 우월한 몇 가지 이유를 살펴볼 것이다. 미리 힌트를 주자면 객체지향을 강력하게 만드는 비밀은 책임과 메시지에 숨겨져 있다.