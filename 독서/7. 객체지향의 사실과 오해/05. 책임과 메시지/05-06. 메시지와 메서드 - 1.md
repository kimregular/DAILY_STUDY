## 메시지
하나의 객체는 메시지를 전송함으로써 다른 객체에 접근한다. 사용자에 대한 객체의 독립성과 객체지향 개념을 구현한 초기 언어들의 일부 문법 때문에 객체의 행동을 유발하는 행위를 가리켜 메시지-전송이라고 한다. 메시지-전송 메커니즘은 객체가 다른 객체에 접근할 수 있는 유일한 방법이다.

왕과 모자 장수 사이의 협력에서 왕은 모자 장수에게 '증언하라'라는 메시지를 전송한다. 왕에게는 모자 장수와 협력하기 위해 선택할 수 있는 다른 의사소통 방법이 없다. 왕은 오직 메시지-전송을 통해서만 모자 장수와 협력할 수 있다. 이때 메시지를 전송하는 왕은 송신자가 되고 메시지를 수신하는 모자 장수는 수신자가 된다.

협력의 또 다른 축에서 하얀 토끼는 '증인석에 입장하라'라는 메시지를 전송한다. 하얀 토끼 역시 메시지를 전송하는 방법 이외에 다른 방법으로 모자 장수에게 접근할 수 없다. 이 경우에 하얀 토끼는 송신자가 되고 모자 장수는 수신자가 된다.

왕이 모자 장수에게 전송하는 메시지를 가리키는 '증언하라'라는 부분을 메시지 이름이라고 한다. 메시지르르 전송할 때 추가적인 정보가 필요한 경우 메시지의 인자를 통해 추가 정보를 제공할 수 있다. 수신자는 메시지를 처리하기 위해 메시지에 실려 있는 인자를 사용할 수 있다. 예를 들어, 왕이 모자 장수에게 '증언하라'라고 요청할 때 부가적으로 특정한 장소와 시간에 목격한 것을 증언하라고 요청할 수도 있다. 이것은 왕이 전송하는 메시지의 인자를 이용해 '언제'와 '어디서'라는 추가적인 정보를 실어 보낸다는 것을 의미한다.

메시지는 메시지 이름과 인자의 두 부분으로 구성된다. 왕이 어제, 왕국에서 목격한 것을 증언할 것을 요청하고 싶을 때 다음과 같은 메시지를 사용할 것이다.

`증언하라(어제, 왕국)`

메시지 전송은 수신자와 메시지의 조합이다. 메시지는 메시지 이름과 인자의 조합이므로 결국 메시지 전송은 수진자, 메시지 이름, 인자의 조합이 된다. 왕 예제에서 왕은 메시지를 누구에게 전송해야 하는지를 알아야 한다. 이 경우 모자 장수가 메시지의 수신자가 된다.

수신자, 메시지 이름, 인자의 순서대로 나열하면 메시지 전송이 된다. 예를 들어, 왕이 모자 장수에게 어제, 왕국에서 목격한 것은 증언할 것을 요청하고 싶다면 다음과 같은 메시지를 전송할 것이다.

`모자장수.증언하라(어제, 왕국)`

```text
여기서는 C++, 자바, C# 등의 언어에서 사용되는 메시지 전송 문법을 사용했지만 실제로 메시지 전송 문법은 언어에 따라 달라질 수 있다. 예를 들어, 스몰토크에서는 '모자장수 증언하라:어제 어디서:왕국'과 같은 문법을 이용하며, 루비의 경우 인자들이 모호하지 않다면 '모자장수.증언하라 어제,왕국'과 같은 문법을 사용할 수 있다. 중요한 것은 메시지 전송 문법이 아니라 메시지 전송을 구성하는 요소다. 메시지 전송이 수신자, 메시지 이름, 인자의 조합으로 구성된다는 것을 기억하는 것이 중요하다.
```

메시지를 수신받은 객체는 우선 자신이 해당 메시지를 처리할 수 있는지 확인한다. 메시지를 처리할 수 있다는 이야기는 객체가 해당 메시지에 해당하는 행동을 수행해야 할 책임이 있다는 것을 의미한다. 따라서 근본적으로 메시지의 개념은 책임의 개념과 연결된다. 송신자는 메시지 전송을 통해서만 다른 객체의 책임을 요청할 수 있고, 수신자는 오직 메시지 수신을 통해서만 자신의 책임을 수행할 수 있다. 따라서 객체가 수신할 수 있는 메시지의 모양이 객체가 수행할 책임의 모양을 결정한다.

재판 협력에서 모자 장수는 '증인석에 입장하라'와 '증언하라'라는 두 가지 메시지를 받는다. 모자 장수에게는 두 메시지를 수신한 후 적절한 행동을 할 책임이 있다. 아마 모자 장수가 수행할 책임은 당연하게도 메시지의 이름을 딴 '증인석에 입장하다'와 '증언하다'일 것이다. 이처럼 모자 장수가 수신할 수 있는 메시지가 모자 장수가 수행해야 할 책임의 모양을 결정한다.

모자 장수는 '증인석에 입장하라'와 '증언하라'라는 메시지를 수신했을 때 이를 처리하는 방법을 자유롭게 선택할 수 있다. 이것은 메시지를 전송하는 왕과 하얀 토끼가 모자 장수에 대해 메시지를 제외한 어떤 것도 볼 수 없기 대문이다. 왕은 오직 자신이 어떤 메시지를 전송할 수 있는지와 모자 장수가 어떤 방법으로든 자신의 메시지를 처리해 줄 것이라는 막연한 사실만을 알고 있을 뿐이다.

따라서 모자 장수가 메시지를 변경하지만 않는다면 책임을 수행하는 방법을 변경하더라도 왕은 그 사실을 알 수 없다. 이것은 객체의 외부와 내부가 메시지를 기준으로 분리된다는 것을 의미한다. 객체가 제공하는 메시지는 외부의 다른 객체가 볼 수 있는 공개된 영역에 속한다. 메시지를 처리하기 위해 책임을 수행하는 방법은 외부의 다른 객체가 볼 수 없는 객체 자신의 사적인 영역에 속한다.

요약하면 메시지는 객체들이 서로 협력하기 위해 사용할 수 있는 유일한 의사소통 수단이다. 객체가 메시지를 수신할 수 있다는 것은 객체가 메시지에 해당하는 책임을 수행할 수 있다는 것을 의미한다. 객체가 유일하게 이해할 수 있는 의사소통 수단은 메시지 뿐이며 객체는 메시지를 처리하기 위한 방법을 자율적으로 선택할 수 있다. 외부의 객체는 메시지에 관해서만 볼 수 있고 객체 내부는 볼 수 없기 때문에 자연스럽게 객체의 외부와 내부가 분리된다.