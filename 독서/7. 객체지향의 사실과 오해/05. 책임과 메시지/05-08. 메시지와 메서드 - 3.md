## 다형성
일단 메시지와 메서드의 차이와 관계를 이해하고 나면 객체지향의 핵심 개념인 다형성을 쉽게 이해할 수 있다. 다형성이란 서로 다른 유형의 객체가 동일한 메시지에 대해 서로 다르게 반응하는 것을 의미한다. 좀 더 구체적으로 말해 서로 다른 타입에 속하는 객체들이 동일한 메시지를 수신할 경우 서로 다른 메서드를 이용해 메시지를 처리할 수 있는 메커니즘을 가리킨다.

앞에서 설명한 것처럼 메시지는 '무엇'이 실행될지는 명시하지만 메시지를 '어떻게' 실행할 것인지는 전적으로 수신자가 결정할 수 있다. 메시지에는 처리 방법과 관련된 어떤 제약도 없기 때문에 동일한 메시지라고 하더라도 서로 다른 방식의 메서드를 이용해 처리할 수 있다. 따라서 다형성을 하나의 메시지와 하나 이상의 메서드 사이의 관계로 볼 수 있다.

앨리스의 이야기에서 모자 장수, 요리사, 앨리스는 모두 왕이 전송한 '증언하라'라는 메시지를 이해할 수 있다. 각 수신자는 왕이 전송한 메시지를 처리하기 위해 자신만의 방법을 자유롭게 선택할 수 있다. 이것은 모자 장수와 요리사, 앨리스 모두 자신의 의지에 따라 책임을 수행할 수 있는 자율적인 존재이기 때문에 가능한 것이다. 따라서 '전송하라'라는 동일한 메시지를 처리하는 방법은 메시지를 수신하는 수신자의 종류에 따라 달라진다.

모자 장수는 '증언하라'라는 메시지를 수신했을 때 기억을 되짚어가며 목격한 내용을 성실하게 답변할 수 있고, 요리사는 메모에 적힌 내용을 더듬더듬 읽어 내려가며 증언할 수 있으며, 앨리스는 누군가가 들려준 이야기를 바탕으로 증언할 수 있을 것이다. 어떤 방법을 사용하건 왕의 입장에서는 결과가 동일하다. 이들 모두 증언하고 있는 것이다. 이것이 바로 다형성이다.

다형성은 역할, 책임, 협력과 깊은 관련이 있다. 서로 다른 객체들이 다형성을 만족시킨다는 것은 객체들이 동일한 책임을 공유한다는 것을 의미한다. 다형성에서 중요한 것은 메시지 송신자의 관점이다. 메시지 수신자들이 동일한 오퍼레이션을 서로 다른 방식으로 처리하더라도 메시지 송신자의 관점에서 이 객체들은 동일한 책임을 수행하는 것이다. 즉, 송신자의 관점에서 다형적인 수신자들을 구별할 필요가 없으며 자신의 요청을 수행할 책임을 지닌다는 점에서 모두 동일하다.

다형성은 메시지 송신자의 관점에서 동일한 역할을 수행하는 다양한 타입의 객체와 협력할 수 있게 한다. 왕은 자신이 전송한 메시지의 수신자가 어떤 종류인지에 관심이 없다. 어떤 객체라도 왕이 전송한 메시지를 처리할 수만 있다면 그것으로 만족한다. 왕의 입장에서 '증언하라'라는 메시지를 이해할 수 있는 모든 객체는 동일하다. 즉, 그들은 동일한 '증인'이라는 역할을 수행할 수 있다.

기본적으로 다형성은 동일한 역할을 수행할 수 있는 객체들 사이의 대체 가능성을 의미한다. 왕의 입장에서 요리사와 앨리스는 모자 장수를 대신해서 증언할 수 있다. 이것은 모자 장수, 요리사, 앨리스가 협력 안에서 대체 가능한 존재라는 사실을 의미한다. 이들이 대체 가능한 이유는 왕의 관점에서 동일한 메시지를 처리할 수 있기 때문이다. 비록 메시지를 처리하는 방법인 메서드는 달라지더라도 말이다.

다형성은 객체들의 대체 가능성을 이용해 설계를 유연하고 재사용 가능하게 만든다. 다형성을 사용하면 송신자가 수신자의 종류를 모르더라도 메시지를 전송할 수 있다. 즉, 다형성은 수신자의 종류를 캡슐화한다. 왕은 '증언하라'라는 메시지를 전송하지만 메시지를 수신하는 대상이 모자 장수인지, 요리사인지, 앨리스인지 알 필요가 없다. 단지 '증언하라'라는 메시지를 이해하면서 '증인' 역할을 수행할 수 있는 수신자라면 어떤 누구와도 협력이 가능하다. 따라서 왕에게 영향을 주지 않고도 메시지를 수신할 객체의 타입을 자유롭게 추가할 수 있다.

객체지향 용어를 이용해 표현하자면 다형성은 송신자와 수신자 간의 객체 타입에 대한 결합도를 메시지에 대한 결합도로 낮춤으로써 달성된다. 이것이 중요하냐고? 물론이다. 객체지향이 유연하고 확장 가능하고 재사용성이 높다는 명성을 얻게 된 배경에는 다형성이라는 강력한 무기가 있었기 때문이다. 

다형성을 사용하면 메시지를 이해할 수 있는 어떤 객체와도 협력할 수 있는 유연하고 확장 가능한 구조를 만들 수 있다. 객체지향 패러다임이 강력한 이유는 다형성을 이용해 협력을 유연하게 만들 수 있기 때문이라는 점을 기억하라.