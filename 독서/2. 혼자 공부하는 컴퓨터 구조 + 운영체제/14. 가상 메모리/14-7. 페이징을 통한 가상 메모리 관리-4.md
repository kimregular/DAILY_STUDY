### 페이지 테이블 엔트리
페이지 테이블을 조금 자세히 들여다 보자. 페이지 테이블의 각 엔트리, 다시 말해 페이지 테이블의 각각의 행들을 `페이지 테이블 엔트리 (PTE : Page Table Entry)`라고 한다.

지금까지는 페이지 테이블 엔트리에 담기는 정보로 페이지 번호, 프레임 번호만을 설명했지만, 실은 페이지 테이블 엔트리에는 이외에도 다른 중요한 정보들이 있다. 대표적인 것이 유효 비트, 보호 비트, 참조 비트, 수정 비트이다.

#### 유효 비트
`유효 비트 (valid bit)`는 현재 해당 페이지에 접근 가능한지 여부를 알려준다. 페이지 테이블 엔트리에서 프레임 번호 다음으로 중요한 정보라고도 볼 수 있다. 페이징에서도 스와핑을 사용할 수 있다고 했다. 일반적으로 프로세스를 이루는 모든 페이지가 메모리에 있지 않다. 일부 페이지는 보조기억장치(스왑 영역)에 있는 경우가 많다. 유효 비트는 현재 페이지가 메모리에 적재되어 있는지 아니면 보조기억장치에 있는지를 알려주는 비트이다. 즉, 페이지가 메모리에 적재되어 있다면 유효 비트가 1, 페이지가 메모리에 적재되어 있지 않다면 유효 비트가 0이 된다.

만일 CPU가 유효 비트가 0인 메모리에 적재되어 있지 않은 페이지로 접근하려고 하면 어떻게 될까? 이 경우 `페이지 폴트 (Page Fault)`라는 예외가 발생한다. 페이지 폴트는 다음에도 보게 되니 기억해 두자.

CPU가 페이지 폴트를 처리하는 과정은 하드웨어 인터럽트를 처리하는 과정과 유사하다.

1. CPU는 기존의 작업 내역을 백업한다.
2. 페이지 폴트 처리 루틴을 실행한다.
3. 페이지 처리 루틴은 원하는 페이지를 메모리로 가져온 뒤 유효 비트를 1로 변경한다.
4. 페이지 폴트를 처리했다면 이제 CPU는 해당 페이지에 접근할 수 있다.

#### 보호 비트
`보호 비트 (protection bit)`는 페이지 보호 기능을 위해 존재하는 비트이다. 보호 비트를 통해 해당 페이지가 읽고 쓰기가 모두 가능한 페이지인지, 혹은 읽기만 가능한 페이지인지를 나타낼 수 있다. 가령 비트가 0일 경우 이 페이지는 읽기만 가능한 페이지임을 나타내고, 1일 경우 읽고 쓰기가 모두 가능한 페이지임을 나타내는 것이다. 앞서 프로세스를 이루는 요소 중 코드 영역은 읽기 전용 영역이라고 설명했다. 이러한 읽기 전용 페이지에 쓰기를 시도하면 운영체제가 이를 막아준다. 이와 같은 방식으로 페이지들을 보호한다.

보호 비트는 세 개의 비트로 조금 더 복잡하게 구현할 수도 있다. 읽기를 나타내는 r, 쓰기를 나타내는 w, 실행을 나타내는 x의 조합으로 읽기, 쓰기, 실행하기 권한의 조합을 나타낼 수 있다. 가령 보호 비트가 100으로 설정된 페이지의 경우 r은 1, w와 x는 0이므로 이 페이지는 읽기만 가능하다. 보호 비트가 110으로 설정된 페이지의 경우 이 페이지는 읽고 쓰기만 가능하고 실행은 불가능하다. 그리고 111로 설정된 페이지는 읽기, 쓰기, 실행이 모두 가능하다.

#### 참조 비트
`참조 비트 (reference bit)`는 CPU가 이 페이지에 접근한 적이 있는지 여부를 나타낸다. 적재 이후 CPU가 읽거나 쓴 페이지는 참조 비트가 1로 세팅되고, 적재 이후 한 번도 읽거나 쓴 적이 없는 페이지는 0으로 유지된다.

#### 수정 비트
`수정 비트 (modified bit)`는 해당 페이지에 데이터를 쓴 적이 있는지 없는지 수정 여부를 알려준다. `더티 비트 (dirty bit)`라고도 부른다. 이 비트가 1이면 변경된 적이 있는 페이지, 0이면 변경된 적이 없는 페이지(한 번도 접근한 적 없거나 읽기만 했던 페이지)임을 나타낸다.

수정 비트는 왜 존재할까? 수정 비트는 페이지가 메모리에서 사라질 때 보조기억장치에 쓰기 작업을 해야 하는지, 할 필요가 없는지를 판단하기 위해 존재한다.

CPU는 메모리를 읽기도 하지만 메모리에 값을 쓰기도 한다. CPU가 한 번도 접근하지 않았거나 읽기만 한 페이지의 경우 보조기억장치에 저장된 해당 페이지의 내용과 메모리에 저장된 페이지 내용은 서로 같은 값을 가지고 있다. 이렇게 한 번도 수정된 적이 없는 페이지가 스왑 아웃될 경우 아무런 추가 작업 없이 새로 적재된 페이지로 덮어쓰기만 하면 된다. 어차피 똑같은 페이지가 보조기억장치에 저장되어 있기 때문이다.

하지만 CPU가 쓰기 작업을 수행한 페이지(수정 비트가 1인 페이지)의 경우 보조기억장치에 저장된 페이지의 내용과 메모리에 저장된 페이지의 내용은 서로 다른 값을 갖게 된다.

이렇게 수정된 적이 있는 페이지가 스왑 아웃될 경우 변경된 값을 보조기억장치에 기록하는 작업이 추가되어야 한다. 이 작업이 필요한 페이지인지 아닌지를 판단하기 위해 페이지 테이블 엔트리에 수정 비트를 두는 것이다.