# 레지스터 - 3

## 특정 레지스터를 이용한 주소 지정 방식 2 : 변위 주소 지정 방식

이전에 명령어는 연산 코드와 오퍼랜드로 이루어져 있다고 말했다. 그리고 오퍼랜드 필드에는 메모리의 주소가 담길 때도 있다고 했었다. `변위 주소 지정 방식(displacement addressing mode)` 이란 오퍼랜드 필드의 값(변위)과 특정 레지스터의 값을 더하여 유효 주소를 얻어내는 주소 지정 방식이다.

![‎레지스터.‎002](<images/레지스터 - 2.002.jpeg>)

그래서 변위 주소 지정 방식을 사용하는 명령어는 아래 그림과 같이 연산 코드 필드, 어떤 레지스터의 값과 더할지를 나타내는 레지스터 필드, 그리고 주소를 담고 있는 오퍼랜드 필드가 있다.

![‎레지스터.‎003](<images/레지스터 - 2.003.jpeg>)

이때, 변위 주소 지정 방식은 오퍼랜드 필드의 주소와 어떤 레지스터를 더하는지에 따라 `상대 주소 지정 방식`, `베이스 레지스터 주소 지정 방식` 등으로 나뉜다. 변위 주소 지정 방식에는 CPU의 종류에 따라 다양한 방식들이 있다.

### 상대 주소 지정 방식

`상대 주소 지정 방식(relative addressing mode)`은 오퍼랜드와 프로그램 카운터의 값을 더하여 유효 주소를 얻는 방식이다.

프로그램 카운터에는 읽어 들일 명령어의 주소가 저장되어 있다. 만약 오퍼랜드가 음수(-3) 였다면 CPU는 읽어 들이기로 한 명령어로부터 '세 번째 이전' 번지로 접근한다.

![‎레지스터.‎004](<images/레지스터 - 2.004.jpeg>)

반면, 오퍼랜드가 양수(3) 이었다면 CPU는 읽어 들이기로 한 명령어의 '세 번째 이후' 번지로 접근한다.

상대 주소 지정 방식은 프로그래밍 언어의 if문과 유사하게 모든 코드를 실행하는 것이 아닌, 분기하여 특정 주소의 코드를 실행할 때 사용된다.

### 베이스 레지스터 주소 지정 방식

`베이스 레지스터 주소 지정 방식(base-register addressing mode)`은 오퍼랜드와 베이스 레지스터의 값을 더하여 유효 주소를 얻는 방식이다.

여기서 베이스 레지스터는 '기준 주소', 오퍼랜드는 '기준 주소로부터 떨어진 거리'로서의 역할을 한다. 즉, 베이스 레지스터 주소 지정 방식은 베이스 레지스터 속 기준 주소로부터 얼마나 떨어져 있는 주소에 접근할 것인지를 연산하여 유효 주소를 얻어내는 방식이다. 가령 베이스 레지스터에 200이라는 값이 있고 오퍼랜드가 40이라면 이는 '기준 주소 200번지로부터 40만큼 떨어진 240번지로 접근하라'를 의미한다. 또 베이스 레지스터에 550이라는 값이 담겨 있고 오퍼랜드가 50이라면 이는 '기준 주소 500번지로부터 50만큼 떨어진 600번지로 접근하라'를 의미하는 명령어이다.

![‎레지스터.‎005](<images/레지스터 - 2.005.jpeg>)