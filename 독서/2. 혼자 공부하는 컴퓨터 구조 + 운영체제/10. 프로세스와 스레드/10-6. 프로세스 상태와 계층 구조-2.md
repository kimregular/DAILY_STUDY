### 프로세스 계층 구조
프로세스는 실행 도중 시스템 호출을 통해 다른 프로세스를 생성할 수 있다. 이때 새 프로세스를 생성한 프로세스를 `부모 프로세스(parent process)`, 부모 프로세스에 의해 생성된 프로세스를 `자식 프로세스(child process)`라고 한다.

부모 프로세스와 자식 프로세스는 엄연히 다른 프로세스이기에 각기 다른 PID를 가진다. 일부 운영체제에서는 자식 프로세스의 PCB에 부모 프로세스의 PID인 `PPID(Parent PID)`가 기록되기도 한다.

부모 프로세스로부터 생성된 자식 프로세스는 실행 과정에서 또 다른 자식 프로세스를 생성할 수 있고, 그 자식 프로세스는 실행 과정에서 또 다른 자식 프로세스를 생성할 수 있다. 많은 운영체제는 이처럼 프로세스가 프로세스를 낳는 계층적인 구조로써 프로세스들을 관리한다. 컴퓨터가 부팅될 때 실행되는 최초의 프로세스가 자식 프로세스들을 생성하고, 생성된 자식 프로세스들이 새로운 프로세스들을 낳는 형식으로 여러 프로세스가 동시에 실행된다.

이 과정을 도표로 그리면 아래와 같은 트리 구조를 띄는데, 이를 `프로세스 계층 구조`라고 한다.

![프로세스 계층 구조.001.jpeg](<images/프로세스 계층 구조.001.jpeg>)

예를 들어 사용자가 컴퓨터를 켜고 로그인 창을 통해 성공적으로 로그인해서 bash 셸(사용자 인터페이스)로 Vim 이라는 문서 편집기 프로그램을 실행했다고 가정해 보자.

이 경우 
1. 사용자가 컴퓨터를 켠 순간에 생성된 최초 프로세스는 로그인을 담당하는 프로세스를 자식 프로세스로 생성한 것이고,
2. 로그인 프로세스는 사용자 인터페이스(bash 셸) 프로세스를 자식 프로세스로 생성한 것이고,
3. 사용자 인터페이스 프로세스는 Vim 프로세스를 생성한 셈이다.

이를 도표로 그리면 아래와 같다.

![프로세스 계층 구조.002.jpeg](<images/프로세스 계층 구조.002.jpeg>)

#### 최초의 프로세스
모든 프로세스의 가장 위에 있는 최초의 프로세스는 유닉스 운영체제에서는 init, 리눅스 운영체제에서는 systemd, macOS 에서는 launchd라고 한다. 최초의 프로세스 PID는 항상 1번이며, 모든 프로세스 최상단에 있는 부모 프로세스이다.

`pstree` 명령어는 프로세스 계층 구조를 보여주는 명령어이다. 리눅스에서 pstree 명령어를 입력하면 systemd 가 최상단에 있다는 것을 알 수 있다. macOS 에서 pstree 명령어를 입력하면 launchd 가 최상단에 있는 것을 확인할 수 있다.