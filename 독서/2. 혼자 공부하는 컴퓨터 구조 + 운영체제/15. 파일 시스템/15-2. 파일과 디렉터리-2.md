## 디렉터리

파일들을 일목요연하게 관리하기 위해 `디렉터리 (directory)`를 이용할 수 있다. 윈도우 운영체제에서는 디렉터리를 `폴더 (folder)`라고 부른다.

옛날 운영체제에서는 하나의 디렉터리만 존재했다. 모든 파일이 하나의 디렉터리 아래에 있었다. 이와 같은 디렉터리 구조를 `1단계 디렉터리 (single-level directory)`라고 부른다.

하지만 실제로 이렇게 사용하는 컴퓨터는 거의 없다. 컴퓨터 용량이 커지다 보니 저장할 수 있는 파일도 많아지고, 1단계 디렉터리로는 많은 파일을 관리하기가 어렵기 때문에 다음과 같이 여러 계층을 가진 `트리 구조 디렉터리 (tree-structured directory)`가 생겨나게 되었다.

트리 구조 디렉터리는 최상위 디렉터리가 있고 그 아래에 여러 서브 디렉터리 (자식 디렉터리)가 있을 수 있다. 서브 디렉터리도 또 다른 서브 디렉터리를 가질 수 있다. 최상위 디렉터리는 흔히 `루트 디렉터리 (root directory)`라고 부르고 슬래시(/)로 표현한다.

![디렉토리.001.jpeg](<images/디렉토리.001.jpeg>)

그러다 보니 자연스레 생긴 개념이 바로 `경로 (path)`이다. 경로는 디렉터리를 이용해 파일 위치, 나아가 파일 이름을 특정 짓는 정보이다.

### 절대 경로와 상대 경로
많은 사람이 경험을 통해 알고 있듯 같은 디렉터리에는 동일한 이름의 파일이 존재할 수 없지만, 서로 다른 디렉터리에는 동일한 이름의 파일이 존재할 수 있다. 위 그림을 다시 한 번 보자. a.sh 라는 파일은 minchul 디렉터리에도 있고 etc 디렉터리에도 있다. 이는 루트 디렉터리부터 파일까지 경로가 다르기 때문에 동일한 이름임에도 공존할 수 있는 것이다. 그래서 모든 파일은 루트 디렉터리에서 자기 자신까지 이르는 고유한 경로를 가지고 있고 ,이러한 경로를 `절대 경로 (absolute path)`라고 부른다.

예를 들어 보자. 위 그림 속 왼쪽의 a.sh는 루트 디렉터리 아래, home 디렉터리 아래, minchul 디렉터리 아래에 있다. 따라서 a.sh의 절대 경로는 '루트 디렉터리 아래, home 디렉터리 아래, minchul 디렉터리 아래에 있는 a.sh'라고 표현할 수 있다. 참고로 유닉스, 리눅스, macOS 등의 운영체제에서 슬래시 기호는 루트 디렉터리를 표시할 뿐만 아니라 디렉터리와 디렉터리 사이의 구분자로도 사용한다. 디렉터리와 디렉터리 사이의 구분자로 슬래시를 사용한다면 a.sh의 절대 경로는 /home/minchul/a.sh 로 표현할 수 있다. 윈도우에서는 디렉터리 구분자로 "₩"를 사용한다. 즉, 윈도우 운영체제에서 a.sh의 절대 경로는 `C:₩home₩minchul₩a.sh`로 표현된다.

경로를 나타내는 또 다른 대중적인 방식으로 `상대 경로 (relative path)`가 있다. 절대 경로가 루트 디렉터리부터 시작하는 경로라면 상대 경로는 현재 디렉터리 부터 시작하는 경로이다. 가령 트리 구조 디렉터리 그림에서 현재 디렉터리 경로가 /home이라면 d.jpg 파일의 상대 경로는 guest/d.jpg 가 된다.

### 디렉터리 연산을 위한 시스템 호출
운영체제가 파일 연산을 위한 시스템 호출을 제공하는 것처럼 운영체제는 디렉터리 연산을 위한 시스템 호출도 제공한다. 대표적인 종류는 다음과 같다.

1. 디렉터리 생성
2. 디렉터리 삭제
3. 디렉터리 열기
4. 디렉터리 닫기
5. 디렉터리 읽기

### 디렉터리 엔트리
아마 파일과 디렉터리는 엄연히 다른 별개의 존재라고 생각할 수도 있다. 이쯤에서 중요한 이야기를 하나 하자면, 많은 운영체제에서는 디렉터리를 그저 '특별한 형태의 파일'로 간주한다. 즉, 디렉터리도 파일이다. 단지 포함된 정보가 조금 특별할 뿐이다.

파일이 내부에 해당 파일과 관련된 정보를 담고 있다면, 디렉터리는 내부에 해당 디렉터리에 담겨 있는 대상과 관련된 정보를 담고 있다. 그리고 이 정보는 보통 테이블(표) 형태로 구성된다. 즉, 디렉터리는 보조기억장치에 테이블 형태의 정보로 저장된다.

각각의 엔트리 (행)에 담기는 정보는 파일 시스템마다 차이가 있으며, 파일 시스템별 디렉터리 엔트리는 다음에 알아보도록 하자. 다만 파일 시스템을 막론하고 디렉터리 엔트리가 공통으로 포함하는 정보가 있다면 그것은 디렉터리에 포함된 대상의 이름과 그 대상이 보조기억장치 내에 저장된 위치를 유추할 수 있는 정보가 담긴다는 점이다. 다시 말해 디렉터리 엔트리만 보아도 해당 디렉터리에 무엇이 담겨 있는지, 그리고 그것들은 보조기억장치의 어디에 있는지를 직간접적으로 알 수 있다.

**디렉터리 테이블**

|파일 이름 | 위치를 유추할 수 있는 정보|
|---|---|
| | |
| | |
| | |
| | |

보조기억장치 내의 파일/디렉터리 위치를 나타내는 방법에는 파일 시스템마다 차이가 있다.

파일 시스템에 따라 디렉터리 엔트리에 다음과 같이 파일 속성을 명시하는 경우도 있다.

**디렉터리 테이블**

|파일 이름 | 위치를 유추할 수 있는 정보| 생성 시간 | 수정된 시간 | 크기 | ...|
|---|---|---|---|---|---|
| | | | | | |
| | | | | | |
| | | | | | |
| | | | | | |


예를 들어 보자. 다음과 같은 구조의 디렉터리와 파일이 있다고 가정한다. home 디렉터리에는 minchul 디렉터리와 guest 디렉터리가 있다.

![디렉토리.002.jpeg](<images/디렉토리.002.jpeg>)

따라서 home 디렉터리는 대략 다음과 같이 구성된다. 여기서 ...은 상위 디렉터리, .은 현재 디렉터리를 가리킨다.

**home 디렉터리 테이블**

|파일 이름 | 위치를 유추할 수 있는 정보 |
|---|---|
|..| |
|.| |
|minchul | |
|guest | |

디렉터리 엔트리를 통해 보조기억장치에 저장된 위치를 알 수 있기 때문에 home 디렉터리에서 minchul 디렉터리가 저장된 곳을 알 수 있고 따라서 그곳으로 이동할 수도 있다. 마찬가지로 minchul 디렉터리 엔트리에는 디렉터리에 속한 파일들의 이름 (a.sh, b.c, c.tar)과 이들의 위치를 알 수 있는 정보 등이 포함되어 있기 때문에 이 파일들이 보조기억장치 내에 저장된 위치를 알 수 있고 실행할 수 있다.

![디렉토리.003.jpeg](<images/디렉토리.003.jpeg>)

