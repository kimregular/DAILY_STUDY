컴퓨터는 0과 1만 이해할 수 있다. 그런데 컴퓨터는 어떻게 문자를 이해하고 모니터에 출력할 수 있을까?

## 문자 집합과 인코딩

0과 1로 문자를 표현하는 방법을 이해하기 위해 필요한 단어가 있다.

1. 문자 집합
2. 인코딩
3. 디코딩

### 문자집합

컴퓨터가 인식하고 표현할 수 있는 문자의 모음을 의미한다. 컴퓨터는 문자 집합에 속해 있는 문자를 이해할 수 있다. 반대로 문자 집합에 속해 있지 않은 문자는 이해할 수 없다. 예를 들어 {a, b, c, d, e} 문자집합이 있을 경우 컴퓨터는 이 5개의 문자만 이해할 수 있다. e 또는 f 같은 문자는 이해하지 못한다.

### 인코딩

문자 집합에 속해있는 문자라고 하더라도 컴퓨터가 바로 이해할 수는 없다. 문자를 0과 1로 변환해야 컴퓨터가 이해할 수 있다. 이 변환 과정을 문자 인코딩이라 하고 인코딩 후 0과 1로 이루어진 결과값이 문자 코드가 된다. 같은 문자 집합에 대해서도 다양한 인코딩 방법이 있다.

### 디코딩

인코딩의 반대 과정이다. 0과 1로 이루어진 문자 코드를 사람이 이해할 수 있는 문자로 변환하는 과정을 문자 디코딩이라고 말한다.

## 인코딩 방법

1. 아스키 코드
2. EUC-KR
3. 유니코드 & UTF-8

### 아스키 코드

ASCII : American Standard code for information interchage

초창지 문자 집합이다. 영어 알파벳과 아라비아 숫자, 일부 특수 문자를 포함한다. 아스키 문자 집합에 속한 문자들을 각각 7비트로 표현된다. 7비트로 표현할 수 있는 정보의 가짓수는 2<sup>7</sup> 개로, 총 128개의 문자를 표현할 수 있다.

![ASCII](file:///Users/regularkim/Library/Mobile%20Documents/com~apple~CloudDocs/Typora/%E1%84%82%E1%85%A9%E1%84%89%E1%85%A7%E1%86%AB%E1%84%8B%E1%85%A5%E1%86%B8%E1%84%85%E1%85%A9%E1%84%83%E1%85%B3%E1%84%8B%E1%85%AD%E1%86%BC/CS/image-20230902172412205.png?lastModify=1694359068)

0번부터 127까지 총 128개의 숫자 중 하나의 고유한 수에 아스키 문자들이 1대1로 대응된다. 아스키 문자에 대응된 고유한 수를 아스키 코드라고 한다. 아스키 코드를 이진수로 표현함으로서 아스키 문자를 0과 1로 표현할 수 있다.

예를 들어 'A' 는 십진수 65(1000001<sub><sub>(2)</sub></sub>) 로 인코딩되고, 'a' 는 십진수 97(1100001<sub><sub>(2)</sub></sub>) 로, 특수 문자 '!' 는 십진수 33(100001<sub><sub>(2)</sub></sub>)으로 인코딩 된다. 아스키 코드표를 보면 Backspace, Escape, Cancel, Space 와 같은 제어 문자도 아스키 코드에 포함되어 있다. 참고로 문자 인코딩에서 글자에 부여된 고유한 값을 `코드 포인트`라고 한다. 아스키 문자 A의 코드 포인트는 65이다.

아스키 코드는 매우 간단하게 인코딩된다는 장점이 있다. 하지만 한글을 표현할 수 없는 단점이 있다. 한글뿐만 아니라 아스키 문자 집합 외의 문자, 특수문자도 표현할 수 없다. 근본적으로 아스키 문자 집합에 속한 문자들은 7비트로 표현하기에 128개보다 많은 문자를 표현하지 못하기 때문이다. 이후 아스키 코드에 1비트를 추가한 8비트의 확장 아스키가 등장했지만, 그럼에도 표현 가능한 문자의 수는 256개여서 여전히 부족했다.

### EUC-KR

한국을 포함한 영어권 외의 나라들은 자신들의 언어를 0과 1로 표현할 수 있는 고유한 문자 집합과 인코딩 방식이 필요했다. 이에 등장한 한글 인코딩 방식이 `EUC-KR` 이다.

한글 인코딩을 이해하려면 우선 한글의 특수성을 이해해야 한다. 알파벳을 쭉 이어 쓰면 단어가 되는 영어와 달리, 한글은 각 음절 하나하나가 초성, 중성, 종성의 조합으로 이루어져 있다. 그래서 한글 인코딩에는 두 가지 방식, 완성형(한글 완성형 인코딩)과 조합형(한글 조합형 인코딩)이 존재한다.

- 완성형 인코딩 방식은 초성, 중성, 종성의 조합으로 이루어진 완성된 하나의 글자에 고유한 코드를 부여하는 인코딩 방식이다. 예를 들어 '가'는 1, '나'는 2, '다'는 3, 이런식으로 인코딩 한다.
- 조합형 인코딩 방식은 초성을 위한 비트열, 중성을 위한 비트열, 종성을 위한 비트열을 할당하여 이들의 조합으로 하나의 글자 코드를 완성하는 인코딩 방식이다. 다시 말해서 초성, 중성, 종성에 해당하는 코드를 합하여 하나의 글자 코드를 만드는 인코딩 방식이다.

EUC-KR은 완성형 인코딩 방식이다. EUC-KR 인코딩은 초성, 중성, 종성이 모두 결합된 한글 단어에 2바이트 크기의 코드를 부여한다. 2바이트는 16비트이다. 즉 EUC-KR로 인코딩된 한글 한 글자를 표현하려면 16비트가 필요하다. 그리고 16비트는 네 자리 십육진수로 표현할 수 있다. 즉 EUC-KR 로 인코딩된 한글은 네 자리 십육진수로 나타낼 수 있다.

EUC-KR 인코딩 방식으로 총 2350개 정도의 한글 단어를 표현할 수 있다.아스키 코드보다 표현할 수 있는 문자가 많긴 하지만 사실 이는 모든 한글 조합을 표현할 수 있을 정도로 많은 양은 아니다. 그래서 문자 집합에 정의되지 않은 '쀍', '쀍', '믜' 같은 글자는 EUC-KR 로 표현할 수 없다.

따라서 종종 문제를 유발하곤 한다. EUC-KR 인코딩을 사용하는 웹사이트의 한글이 깨진다든지, EUC-KR 방식으로는 표현할 수 없는 이름으로 인해 은행, 학교 등에서 피해를 받는 사람이 생기기도 했다.

### [유니코드](http://unicode.org/charts/PDF/UAC00.pdf)와 UFT-8

EUC-KR 인코딩 덕분에 한국어를 코드로 표현할 수 있게 되었다. 하지만 모든 한글을 표현할 수 없다는 한계가 있었다. 더욱이 이렇게 언어별로 인코딩을 나라마다 해야 한다면 다국어를 지원하는 프로그램을 만들 때 각 나라 언어의 인코딩을 모두 알아야 하는 번거로움이 있다. 예를 들어 5개 언어를 지원하는 웹사이트라면 이 웹사이트는 다섯 개 언어의 인코딩 방식을 모두 이해하고 지원해야 한다.

그런데 만약 모든 나라 언어의 문자 집합과 인코딩 방식이 통일되어 있다면, 다시 말해 모든 언어를 아우르는 문자 집합과 통일된 표준 인코딩 방식이 있다면 언어별로 인코딩하는 수고로움을 덜 수 있다. 그래서 등장한 문자 집합이 `유니코드(unicode)`이다. 유니코드는 EUC-KR 보다 훨씬 다양한 한글을 포함하며 대부분 나라의 문자, 특수문자, 화살표나 이모티콘까지도 코드로 표현할 수 있다.

유니코드 문자 집합에서 '한'과 '글'이라는 단어를 찾아보자. 유니코드 문자 집합에서는 아스키 코드나 EUC-KR 과 같이 각 문자마다 고유한 값이 부여된다. 예를 들어 '한'에 부여된 값은 D55C<sub>(16)</sub> , '글'에 부여된 값은 AE00<sub>(16)</sub> 이다.

아스키 코드나 EUC-KR 은 글자에 부여된 값을 그대로 인코딩 값으로 삼았다. 유니코드는 다르다. 글자에 부여된 값 자체를 인코딩된 값으로 삼지않고 이 값을 다양한 방법으로 인코딩한다. 이런 인코딩 방법에는 크게 UTF-8, UTF-16, UTF-32 등이 있다.

UTF-8은 1바이트부터 4바이트까지의 인코딩 결과를 만들어낸다. 다시 말해 UTF-8 로 인코딩한 값의 결과는 1바이트가 될 수도 2바이트, 3바이트, 4바이트가 될 수도 있다. UTF-8로 인코딩한 결과가 몇 바이트가 될지는 유니코드 문자에 부여된 값의 범위에 따라 결정된다.

![[image-20230902181734928.png]]

- 유니코드 문자에 부여된 값의 범위가 0부터 007F<sub>(16)</sub> 까지는 1바이트로 표현
- 유니코드 문자에 부여된 값의 범위가 0080<sub>(16)</sub> 부터 07FF<sub>(16)</sub> 까지는 2바이트로 표현
- 유니코드 문자에 부여된 값의 범위가 0800<sub>(16)</sub> 부터 FFFF<sub>(16)</sub> 까지는 3바이트로 표현
- 유니코드 문자에 부여된 값의 범위가 10000<sub>(16)</sub> 부터 10FFFF<sub>(16)</sub> 까지는 4바이트로 표현

'한'과 '글'을 변환해보자. '한'에 부여된 값은 D55C<sub>(16)</sub> , '글'에 부여된 값은 AE00<sub>(16)</sub> 이다. 두 글자를 10진수로 다시 표현해보자. '한'은 54620, '글'은 44544이다. 이 범위는 0800<sub>(16)</sub> 부터 FFFF<sub>(16)</sub> (2048~65535) 구간에 포함된다. 따라서 '한'과 '글'을 UTF-8러 인코딩하면 3바이트로 표현된다.

해당하는 구간의 바이트 부분을 보면 바이트에 x표시가 되어있다. 이곳에 유니코드 문자에 부여된 고유한 값이 들어간다. '한'과 '글'에 부여된 값은 각각 D55C<sub>(16)</sub> , AE00<sub>(16)</sub> 이다. 이는 각각 이진수로 아래와 같다.

- 한 : 1101 0101 0101 1100<sub><sub>(2)</sub></sub>
- 글 : 1010 1110 0000 0000<sub><sub>(2)</sub></sub>

따라서 UTF-8 방식으로 인코딩된 값은 다음과 같다.

- 한 : 11101101 10010101 10011100<sub><sub>(2)</sub></sub>
- 글 : 11101010 10111000 10000000<sub><sub>(2)</sub></sub>