# 네트워크 거시적으로 살펴보기 - 2
## 메시지 교환 방식에 따른 네트워크 분류
호스트들은 네트워크를 통해 어떤 방식으로 메시지를 주고받을까요? 네트워크로 메시지를 주고받는 방식은 대표적으로 회선 교환 방식과 패킷 교환 방식으로 나눌 수 있습니다. 각 방식을 사용하는 네트워크를 각각 회선 교환 네트워크, 패킷 교환 네트워크라고 합니다.

### 회선 교환 방식
회선 교환 방식은 먼저 메시지 전송로인 회선을 설정하고 이를 통해 메시지를 주고받는 방식입니다. '회선을 설정한다'라는 말은 '두 호스트가 연결되었다', '전송로를 확보하였다'라는 말과도 같습니다. 회선 교환 네트워크에서는 호스트들이 메시지를 주고받기 전에 두 호스트를 연결한 후, 연결된 경로로 메시지를 주고받습니다.

예를 들어서 다음 그림과 같은 회선 교환 네트워크에서 A와 B가 통신하려고 한다면, 메시지를 주고 받기 전에 A와 B 사이를 연결하는 회선(붉은 선)을 설정해야 이 경로를 통해 메시지를 주고받을 수 있습니다.

![pic1](https://hongong.hanbit.co.kr/wp-content/uploads/2024/04/%ED%9A%8C%EC%84%A0-%EA%B5%90%ED%99%98-%EB%B0%A9%EC%8B%9D-1.png)

A와 D가 통신하려고 한다면 어떨까요? 마찬가지로 메시지를 주고받기 전에 A와 D 사이의 회선(붉은 선)을 설정해야만 해당 경로로 메시지를 주고받을 수 있습니다.

![pic2](https://hongong.hanbit.co.kr/wp-content/uploads/2024/04/%ED%9A%8C%EC%84%A0-%EA%B5%90%ED%99%98-%EB%B0%A9%EC%8B%9D-2.png)

회선 교환 방식은 우선 두 호스트 사이에 연결을 확보한 후에 메시지를 주고받는 특성 덕분에 주어진 시간 동안 전소오디느 ㄴ정보의 양이 비교적 일정하다는 장점이 있습니다.

회선 교환 네트워크가 올바르게 동작하기 위해서는 호스트 간의 회선을 적절하게 설정해야 합니다. 이 역할을 수행하는 회선 교환 네트워크 장비로는 회선 스위치가 있습니다. 즉, 회선 스위치는 호스트 사이에 일대일 전송로를 확보하는 네트워크 장비입니다.

![pic3](https://hongong.hanbit.co.kr/wp-content/uploads/2024/04/%ED%9A%8C%EC%84%A0-%EC%8A%A4%EC%9C%84%EC%B9%98.png)

회선 교환 방식의 대표적인 사례가 바로 전통적인 전화망입니다. 누군가에게 전화를 걸면 수신자가 전화를 받기 전에 송신자와 수신자 시이에 연결이 설정되어야 하고, 한 번 연결이 설정되면 연결된 전송로를 통해서만 통화가 가능합니다.

다만 회선 교환 방식에는 한 가지 문제가 있습니다. 회선의 이용 효율이 낮아질 수 있다는 것이지요. 가능한 모든 회선에 끊임없이 메시지가 흐르고 있어야만 회선의 이용 효율이 높아집니다. 이를 반대로 이야기하면 메시지를 주고받지 않으면서 회선을 점유하는 것은 낭비라 볼 수 있습니다.

에를 들어서 다음 그림처럼 회선 교환 네트워크상에 호스트 A, B, C, D가 각각 회선 스위치와 연결되어 있고, 호스트 A, B의 회선이 설정되었다고 가정해 보겠습니다. 호스트 A, B는 회선이 설정되어 있으니 당장이라도 메시지를 주고받을 수 있습니다. 그러나 호스트 A, B가 회선을 점유하여 연결만 된 채로 메시지를 주고받지 않는다면 회선(붉은 선)에는 어떠한 메시지도 흐르지 않습니다. 호스트 C가 A에게, 호스트 D가 B에게 메시지를 보내고 싶어도 보낼 수 없는 상황이 발생할 수도 있지요.

![pic4](https://hongong.hanbit.co.kr/wp-content/uploads/2024/04/%ED%9A%8C%EC%84%A0-%EA%B5%90%ED%99%98-%EB%B0%A9%EC%8B%9D-3.png)

### 패킷 교환 방식
패킷 교환 방식은 회선 교환 방식의 문제점을 해결한 방식으로, 메시지를 패킷이라는 작은 단위로 쪼개어 전송합니다. 여기서 패킷은 패킷 교환 네트워크상에서 송수신되는 메시지의 단위입니다. 현대 인터넷은 대부분 패킷 교환 방식을 이용합니다.

예를 들어서 여러분이 패킷 교환 방식으로 2GB 크기의 영화 파일을 다운로드한다면, 2GB 크기의 영화 파일이 한 번에 여러분의 컴퓨터로 전송될까요? 아닙니다. 패킷의 크기만큼 분할되어 전송됩니다. 그리고 이렇게 쪼개진 패킷들은 수신지인 여러분의 컴퓨터에 도달한 뒤 재조립됩니다.

패킷 교환 네트워크는 회선 교환 네트워크와는 달리 메시지를 송수신하는 두 호스트가 하나의 전송 경로를 점유라지 않기에 네트워크 이용 효율이 상대적으로 높습니다. 다음 그림을 보세요. 회선 교환 방식에 비해 전송로에 메시지가 쉴 새 없이 흐르고 있지요?

![pic5](https://hongong.hanbit.co.kr/wp-content/uploads/2024/04/%ED%8C%A8%ED%82%B7-%EA%B5%90%ED%99%98-%EB%B0%A9%EC%8B%9D.png)

만약 패킷이 패킷 교환 네트워크를 통해 지구 반대편에 있는 먼 곳까지 이동한다면 어떨까요? 사전에 설정된 경로만으로 통신하는 회선 교환 방식과는 달리, 패킷 교환 방식은 정해진 경로만으로 메시지를 송수신하지 않습니다. 이 과정에서 메시지는 다양한 중간 노드를 거칠 수 있는데, 이때 중간 노드인 패킷 스위치는 패킷이 수신지까지 올바르게 도달할 수 있도록 최적의 경로를 결정하거나 패킷의 송수신지를 식별합니다. 대표적인 패킷 스위치 네트워크 장비로는 라우터와 스위치가 있습니다.

![pic6](https://hongong.hanbit.co.kr/wp-content/uploads/2024/04/%ED%8C%A8%ED%82%B7-%ED%8C%A8%ED%82%B7%EC%8A%A4%EC%9C%84%EC%B9%98.png)

패킷 교환 방식에서 주고받는 패킷은 본래 소포, 꾸러미라는 뜻입니다. 택배와 비슷한 개념입니다. 택배를 보내려면 먼저 상자 안에 보내고자 하는 물품을 담아야 합니다. 그리고 상자 겉에 붙이는 송장(쪽지)에는 보내는 주소(송신지 주소)와 받을 주소(수신지 주소), 보내는 사람(송신자)과 받는 사람(수신자) 등 부가 정보를 적습니다. 이런 과정이 선행되어야 올바르게 배송되지요.

네트워크의 패킷도 마찬가지입니다. 패킷을 통해 전송하고자 하는 데이터를 페이로드라고 합니다. 택배 상자에 넣을 물품이라고 생각해도 좋습니다. 또한 택배를 보낼 때 상자에 물품만 담아 보내지 않는 것처럼, 패킷 또한 페이로드로만 구성되지 않습니다. 페이로드와 더불어 헤더라는 정보도 패킷 앞에 포함됩니다. 때로는 패킷 뒤에 트레일러라는 정보가 포함되기도 합니다.

헤더와 트레일러는 패킷에 붙는 일종의 부가 정보, 내지는 제어 정보입니다. 즉, 페이로드가 택배 안에 담을 물품이라면, 헤더나 트레일러는 택배 상자에 붙이는 송장과 같습니다.

정리해 볼까요? 패킷 교환 네트워크에서 주고받는 메시지의 단위는 패킷이며, 패킷은 전송하고자 하는 데이터인 페이로드와 부가 정보인 헤더 및 트레일러로 구성됩니다.

![pic7](https://hongong.hanbit.co.kr/wp-content/uploads/2024/04/%ED%8E%98%EC%9D%B4%EB%A1%9C%EB%93%9C-%ED%97%A4%EB%8D%94-%ED%8A%B8%EB%A0%88%EC%9D%BC%EB%9F%AC.png)

## 주소와 송수신지 유형에 따른 전송 방식
패킷의 헤더에 담기는 대표적인 정보로는 주소가 있습니다. 주소는 송수신지를 특정하는 정보를 의미합니다. 택배 송장에 송수신지를 명시하는 것처럼, 네트워크에 흐르는 수많은 패킷에는 모두 송수신지가 담겨있지요. 여러분이 한 번쯤 들어 보았을 IP 주소, 혹은 MAC 주소 모두 네트워크에서 사용되는 주소입니다.

이렇게 송수신지를 특정할 수 있는 주소가 있다면 송수신지 유형에 따라 다양한 방식으로 메시지를 보낼 수 있게 됩니다. 가령 수신지를 특정 호스트 하나로 지정할 수도 있고, 네트워크 내 모든 호스트로 지정할 수도 있습니다. 또 수신지를 자신과 동일한 그룹에 속한 호스트로 지정할 수도 있습니다. 송수신지 유형별 전소 압ㅇ식은 다양한 종류가 있지만, 네트워크의 기본 동작을 파악하기 위해 알아야할 가장 중요한 전송 방식은 유니캐스트와 브로드캐스트입니다.

먼저 유니캐스트는 가장 일반적인 형태의 송수신 방식으로, 하나의 수신지에 메시지를 전송하는 방식입니다. 송신지와 수신지가 일대일로 메시지를 주고받는 경우입니다.

브로드캐스트는 자신을 제외한 네트워크상의 모든 호스트에게 전송하는 방식입니다. 브로드캐스트가 전송하는 범위를 브로드캐스트 도메인이라고 합니다. 즉, 브로드캐스트의 수신지는 브로드캐스트 도메인이며 이는 자신을 제외한 네트워크상의 모든 호스트입니다.

이 외에도 네트워크 내의 동일 그룹에 속한 호스트에게만 전송하는 방식인 멀티캐스트, 네트워크 내의 동일 그룹에 속한 호스트 중 가장 가까운 호스트에게 전송하는 방식인 애니캐스트 등 다양한 방식이 있습니다. 다만, 이 책에서 가장 자주 언급할 전송 방식은 유니캐스트와 브로드캐스트이니 꼭 기억해 주세요.