2장에서 배운 조합 논리는 '흐름을 따른다'. 즉 조합 논리는 입력에 의해서만 출력이 결정된다. 하지만 조합 논리만 사용해 컴퓨터를 만들 수는 없다. 조합 논리만으로는 흐름의 일부분을 떼어내서 기억해둘 수 없기 때문이다. 예를 들어, 현재 처리 중인 수가 어떤 수인지 기억할 수 없다면 1부터 100까지 모든 정수의 합계를 구하는 것은 불가능하다.

이번 장에서는 순차 논리를 배운다. 순차 논리라는 말은 순서라는 말에서 비롯된 용어다. 순서는 '시간적으로 어떤 값 뒤에 오는 다른 값'이라는 뜻이다. 사람은 손가락으로 수를 셀 때처럼 직관적으로 시간에 대해 알지만, 사람이 직관적으로 시간을 안다고 해서 디지털 회로에서도 시간을 자연스럽게 다룰 수 있다는 뜻은 아니다. 우리는 디지털 회로에서 시간을 어떻게든 만들어내야 한다.

조합 논리는 입력의 현재 상태만을 다룬다. 하지만 순차 논리는 입력의 현재 상태와 과거 상태를 함께 고려한다. 이번 장에서는 시간을 만들어내는 회로와 과거를 기억하기 위한 회로에 대해 배운다. 이런 목적을 달성하기 위해 사용하는 여러 가지 기술을 과거로부터 현재까지 추적해보자.

# 시간 표현과 상태 기억
우리는 주기 함수를 사용해 시간을 측정할 수 있다. 예를 들어, 지구의 자전이 바로 주기적 함수다. 지구가 한 바퀴를 다 돌면 이를 하루(1일)라고 부른다. 이 하루를 더 잘게 나눠서 시간, 분, 초 등으로 구분한다. 하루가 86,000초이므로, 1초는 지구 자전의 1/86,400이라고 정의할 수 있다.

지구 자전 같은 외부 이벤트를 활용하는 것에 덧붙여, 몇 가지 물리 요소를 적용하면 우리 스스로 주기 함수를 만들어낼 수 있다. 예를 들어, 진자가 오가는 시간(주기)을 사용할 수 있다. 이런 기술이 오래된 괘종시계의 '똑딱똑딱' 소리를 만들어낸다. 물론 쓸모가 있으려면 1초보다 훨씬 더 짧은 시간을 제대로 잴 수 있도록 진자를 미세 조정해야 한다.

컴퓨터의 경우 전자공학을 사용하기 때문에 주기적인 전기 신호가 필요하다. 진자가 스위치를 때리게 하면 이런 신호를 만들 수 있다. 하지만 스팀펑크 장르의 극성 팬이 아니라면 진자로 작동하는 컴퓨터를 원하는 사람은 없을 것이다. 다음 절에서 좀 더 현대적인 접근 방법을 배운다.

## 발진자
인버터를 사용한 트릭을 살펴보자. 그림 3-1처럼 인버터의 출력을 입력에 연결할 수 있다.

그림 3-1 발진자\
![그림 3-1 발진자](https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTzlhqt9p9LH3eFHjD1JPL1Bww2oRmHpDrZvg&s)

이런 식의 연결을 되먹임(피드백)이라고 한다. 이는 마치 마이크와 스피커를 가까이 위치시킬 때 생기는 현상과 같다. 인버터 출력은 다시 인버터 입력으로 들어가며, 이 입력은 다시 출력에 반영된다. 이로 인해 출력이 0과 1 사이를 진동한다. 이 값이 진동하는 속도는 전파지연에 따라 결정되며, 온도에 따라 달라지는 경향이 있다. 좀 더 안정적인 주파수로 진동하는 발진자가 있다면 더 정확히 시간을 측정할 수 있는 기준이 될 것이다.

정확한 발진자를 적은 비용으로 효율적으로 만드는 방법은 크리스털(결정이라는 뜻)을 확용하는 것이다. 그렇다. 새로운 방식이다. 자석과 마찬가지로 크리스털도 전기와 관련이 있다. 전극(즉, 전선)을 크리스털에 연결하고 크리스털을 압축하면 크리스털이 전기를 만들어낸다. 그리고 전극에 전기를 가하면 크리스털이 구부러진다. 이런 현상을 피에조 전기(또는 압전) 효과라고 부른다. 폴 자크와 피에르 퀴리 형제가 1800년대 말 이 현상을 발견했다. 압전 효과를 여러 가지로 응용할 수 있다. 크리스털은 음성 진동을 잡아낼 수 있어서 마이크를 만들 때 이를 쓸 수 있다. 또한 크리스털에 전기를 가해서 음성 진동을 만들어냄으로써 여러 전기 기구에서 다양한 경보음을 낼 수 있다. 회로도에서는 그림 3-2와 같은 기호로 크리스털을 표현한다.

그림 3-2 크리스털을 표현하는 스키매틱 기호\
![그림 3-2 크리스털을 표현하는 스키매틱 기호](https://images.velog.io/images/ki5970/post/65a70e01-bd62-43db-a358-43856790b504/KakaoTalk_20220127_093128234.jpg)

크리스털 발진자는 전자적인 단극쌍투 스위치를 사용해 크리스털에 전기를 가해서 다시 전기를 얻어낸다. 입력한 전기로부터 크리스털이 전기를 다시 만들어내는 시간은 예측이 가능하며 매우 정확하다. 특히 석영이 이런 목표로 사용할 수 있는 가장 좋은 크리스털 고체 물질이다. 그래서 과거 전자 시계에 정확한 석영 부품을 사용한다고 광고하는 경우를 자주 볼 수 있었다. 다만 멋진 시계를 보더라도, 아주 좋은 크리스털 발진자의 소매가가 몇백 원에 불과하다는 사실을 기억하라.